import { Router } from "express";
import { checkLogged, checkLogin } from "../middlewares/auth.js";


import { productsService } from "../services/products.service.js";
import { cartsService } from "../services/carts.service.js";



import {login,register,current, restore,inicio,getProducts, getProductsById,getCartsById} from "../controllers/views.controller.js";


export const viewsRouter = Router();
console.log("entro al view.router");
//////////////////////////////////////////////////////////////////////////////////////////////

viewsRouter.get("/login", checkLogged,login);
//////////////////////////////////////////////////////////////////////////////////////////////
viewsRouter.get("/register", checkLogged,register);

//////////////////////////////////////////////////////////////////////////////////////////////
viewsRouter.get("/current", checkLogin,current);

//////////////////////////////////////////////////////////////////////////////////////////////
viewsRouter.get("/restore", restore);
//////////////////////////////////////////////////////////////////////////////////////////////
viewsRouter.get("/", checkLogged,inicio);

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//muestra todo los productos 
viewsRouter.get("/products", getProducts);

///////////////////////////////////////////////////////////////////////////////////
//muestra un producto
viewsRouter.get("/product/:pId", getProductsById);

/////////////////////////////////////////////////////////////////////////////////////
viewsRouter.post("/cart/:cId", getCartsById);



export default viewsRouter;